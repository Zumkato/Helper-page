"""Reflex application entry point registering pages."""

from __future__ import annotations

import reflex as rx

from ..state.project_state import ProjectState
from .pages.dashboard import dashboard_page
from .pages.project_detail import project_page
from .pages.attack_chain import chain_page


app = rx.App(state=ProjectState)
app.add_page(dashboard_page, route="/", on_load=ProjectState.load_projects)
app.add_page(
    project_page,
    route="/project/[project_id]",
    on_load=ProjectState.load_project,
)
app.add_page(
    chain_page,
    route="/project/[project_id]/chain",
    on_load=ProjectState.load_project,
